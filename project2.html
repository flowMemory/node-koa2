<!-- 
    服务端编程：
        全局异常处理机制：
            exception.js : 全局异常捕捉模块，捕获全局异常并返回给客户端

            http-exception.js : 定义具体的响应类型

            validator.js： 校验路由参数，如果错误由lin-validator自动调用http-exception中的参数错误类型，进行通报异常
                验证器的职责：
                    1. 验证数据提交的合法性（数据类型，完整，提交方式等）
                    2. 查询数据库，验证数据的的重复性

            全局捕获机制：
                路由检验通过，无返回数据 -> http-exception -> success -> exception 由捕获返回给客户端
                路由检验通过，有返回数据 -> ctx.body = { xxx } 返回给客户端请求数据
                检测不通过，或者有其他已知错误 -> http-exception(触发某一种错误类型) -> exception 由捕获返回给客户端
                未知错误 -> exception : 按照统一格式返回给客户端

            接口返回规范：（初次总结）
                1. 为每一种请求定义一个返回提示类型：
                    设计返回的数据格式：{
                        code: http 请求响应码
                        errorCode: 具体的业务请求响应码
                        msg: 返回的信息提示语
                    }

                2. 具体含义：
                        code       ：根据http常用规范返回
                        errorCode  ：根据业务请求结果返回，成功默认返回0，其他根据具体的业务需要传递
                        msg        ：返回给客服端具体的请求提示语

                3. error含义：
                        1 在后端返回中error不能单单理解成错误，error可以当做响应的类型处理，
                          可以当做错误的返回，也可以当做成功的返回

                        2 error 当做一种全局捕获机制使用，通过捕获每个接口的响应状态从而返回给客户端，
                          所以它可以处理已知错误，未知错误，成功状态等





                    
    island服务端：
        1. token.js: '/'  普通登录接口
                     '/verify' token登录接口

            这里 token.js 也负责了微信openid的登录方法（注册到数据表）
                原因：因为这里微信登录业务上过于简单，所以就把登录和注册的行为归为一个，直接获取token。
                      每次通过微信接口获取openid，然后向数据库查询，无则注册写入，有则返回token

                      其实这里设计成login接口更加符合场景，易于理解。上面的做法是把注册登录，获取token理解成一个行为

        2. bcrypt.js 数据加密1
        3. jwt：生成token
            启用服务器和数据库：
                1. 服务器配置：
                    1. 这里使用的是一个服务器集成工具（xampp apache mysql php）
                    2. xampp 会自动安装 apache mesql等、
                    3. 数据库可视化管理工具：Navicat for MySQL

                2. 启用服务器：
                    1. 利用xampp启动MySQL
                    2. 打开 Navicat 配置数据库连接
                        连接名：island
                        初始化密码：选择数据库，菜单选中用户，然后修改默认配置: island123
                            xammpp：修改数据库连接密码
                                1. 控制台修改MySQL，my.ini password
                                2. xampp\phpMyAdmin\config.inc.php : 修改$cfg['Servers'][$i]['password'] = 'island123';

                    3. 新建数据库：点击连接，右键新建数据库，字符键：utf8mb4，排序规则：UTF8mb4_general_ci


                        数据库修改默认密码：
                            1. 进入xampp mysql文件目录，mqsql > bin
                            2. 数据库操作命令：mysql set password for 用户名@localhost = password(‘新密码')

                    4. 向数据库导入数据方式一：执行现有sql文件，右击数据库，选择运行数据库文件，选择SQL文件

                3. 数据库设计思路：
                        1. 按照model划分，把表按照实例化的类思考，例如user模型，期款模型，期刊又可以按照不同的类型细化模型。
                           从而最终形成一个个数据表
                            * 以表来描述model

                        2. 抽象表，依据业务需求设计的表，例如期刊排期表，把发布的所有不同的期刊集合成一个表。从而满足用户浏览当前
                           发布期刊的功能。
                            * 业务表是抽象逻辑的表达，根据业务变动，表功能变化性大，要求可扩展性高。并且业务表往往是表查询的入口，所以
                              业务表的设计是否合理影响了业务的实现，数据库性能等方面。其要求更高

                        3. 设计具体思路：
                            1. 思考所有modal表的所有字段，共有字段，特性字段

                            2. flow - model表（抽象表）设计，业务字段，关联实体表字段，根据关联字段想实体表做查询。例如id, type等
                               type决定了查询哪个类型的表，id决定了哪条具体的记录

                            3. 数据表之间的关联构成了数据的连接

                        4. 点赞表 - model的设计：
                                把点赞表设计成一个业务表（抽象表）：（这里设计的是一个增删操作：是否可设计成状态查询？）
                                    1. 每当点赞接口触发时，读取表，没有数据则添加记录，并给对象的art 喜欢数量+1
                                    2. 取消点赞，查询数据，做删除记录操作，并把对应的art记录做-1操作

                                状态查询？如果适应插入数据状态查询方式实现，可能会造成表数据量越来越大的问题，因为取消点赞，仅改变了记录
                                         字段的状态，而记录会越来越多！！！

                                及时做删减操作，当用户量越来越多的时候也可能出现查询数据量过多的现象！！！


            
        4. 继续进行服务端编程：
                    1. 编写微信小程序测试项目，进行接口调试
 
    服务端编程的外延：
        1. 项目部署
        2. 网站安全
        3. 网站并发处理

 -->
 